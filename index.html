<html>
    <style>
      body { margin:0; padding:0; }
      #map { position:absolute; top:0; bottom:0; width:50%; float:left;}
      #app { float:right;}
    </style>
    <body>
        <div style="width: 100%; display: table;">
            <div style="display: table-row">
                <div id="app" style="width: 50%; display: table-cell;"> </div>
                <div id="map" style="display: table-cell;"> </div>
            </div>
        </div>
        <script src="http://fb.me/react-0.9.0.js"></script>
        <script src="out/goog/base.js" type="text/javascript"></script>
        <script src="hackakl_where_is_my_bus.js" type="text/javascript"></script>
        <script type="text/javascript">goog.require("hackakl_where_is_my_bus.core");</script>
        <script src='https://api.tiles.mapbox.com/mapbox.js/v1.6.3/mapbox.js'></script>
        <link href='https://api.tiles.mapbox.com/mapbox.js/v1.6.3/mapbox.css' rel='stylesheet' />
        <script type="text/javascript">
            var map = L.mapbox.map('map', 'stuartmitchell.ia0n7ckk');
            var busIcon = L.icon({
                iconUrl: 'static/logo_bus.gif',
                shadowUrl: 'static/marker-shadow.png',
                });
            var myIcon = L.icon({
                iconUrl: 'static/marker-icon.png',
                shadowUrl: 'static/marker-shadow.png',
                });
             var bus_group = L.featureGroup().addTo(map);

            function set_marker(lat, lon, vehicle_id) {
                var marker = L.marker([lat, lon], {icon: busIcon}).addTo(bus_group);
                marker.bindPopup(vehicle_id);
            };


            function set_my_location(lat, lon) {
                var marker = L.marker([lat, lon], {icon: myIcon}).addTo(bus_group);
                marker.bindPopup("My Location");
                marker.openPopup();
            };

            function fitBounds() {
                map.fitBounds(bus_group, { padding: [50, 50] });
            }
            function delete_markers() {
                bus_group.clearLayers()
            };

        </script>
    </body>
</html>
